
\RequirePackage[final]{listings}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Basic style for all languages
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\lstdefinestyle{ESStyle}{
    tabsize=3,
    breaklines,
    breakatwhitespace,
    prebreak=\mbox{$\rightarrow$},
    captionpos=b,
    mathescape=true,
%    columns=flexible,
%    basicstyle=\fontfamily{pcr}\selectfont,
    basicstyle=\fontfamily{cmtt}\selectfont,
    keywordstyle=\fontfamily{pcr}\selectfont\bfseries,
    commentstyle=\itshape
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Quartz
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% define language
\lstdefinelanguage{Quartz}
{
    morekeywords={
        % basic keywords
        module,
        system,
        rule,
        method,
        satisfies,
        observer,
        import,
        package,
        macro,
        caos,
        % statements
        emit,
        next,
        assume,
        assert,
        receive,
        with,
        nothing,
        pause,
        if,
        else,
        do,
        while,
        loop,
        always,
        each,
        every,
        weak,
        immediate,
        when,
        suspend,
        abort,
        during,
        let,
        in,
        for,
        choose,
        case,
        default,
        abstract,
        halt,
        await,
        % datatypes
        bool,
        bv,
        nat,
        int,
        real,
        buf,
        event,
        mem,
        % operators
        arr2bv,
        tup2bv
        cos,
        sin,
        tan,
        der,
        exp,
        exp2,
        int2real,
        nat2real,
        log,
        log2,
        DisProveA,
        DisProveE,
        ProveA,
        ProveE,
        true,
        false,
        InitStates,
        instant,
        inside,
        terminate,
        fromArray,
        nat2bv,
        int2bv,
        bv2nat,
        bv2int,
        not,
        and,
        xor,
        or,
        imp,
        equ,
        forall,
        exists,
        any,
        sum,
        abs,
        sat,
        reverse,
        MaxNat,
        MinInt,
        MaxInt,
        exp2,
        log2,
        sizeOf,
        X,
        G,
        F,
        SU,
        SB,
        SW,
        WU,
        WB,
        WW,
        PG,
        PF,
        PSX,
        PSU,
        PSB,
        PSW,
        PWX,
        PWU,
        PWB,
        PWW,
        E,
        A,
        fixpoints,
        mu,
        nu,
    },
    sensitive=true,
    morecomment=[l]{//},
    morecomment=[s]{/*}{*/}
}

% style for Quartz
\lstdefinestyle{QuartzStyle}{
    style=ESStyle,
    language=Quartz
}

% define listings environment for Quartz
\lstnewenvironment{lstquartz}[1][]{\lstset{style=QuartzStyle, #1}}{}

% define macro for inlining Quartz
\newcommand{\qrz}[2][]{\textrm{{\lstinline[style=QuartzStyle,#1]|#2|}}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Signal
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% define language
\lstdefinelanguage{Signal}
{
    morekeywords={
        process,
        init,
        integer,
        where,
        end,
        default,
        when,
        cell,
        boolean,
    },
    sensitive=true,
    morecomment=[s]{\%}{\%}
}

% style for Signal
\lstdefinestyle{SignalStyle}{
    style=ESStyle,
    mathescape=false,
    language=Signal
}

% define listings environment for Signal
\lstnewenvironment{lstsignal}[1][]{\lstset{style=SignalStyle, #1}}{}

% define macro for inlining Signal
\newcommand{\sig}[2][]{\textrm{{\lstinline[style=SignalStyle,#1]|#2|}}}

